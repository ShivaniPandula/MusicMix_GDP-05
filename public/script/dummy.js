var songs = [ 
  { 
  title: "Chuttamalle - Devara", 
  artist: "Artist 1", 
  duration: "3:41", 
  songURL: "https://res.cloudinary.com/xd666/video/upload/v1723555616/musicmix/songs/Chuttamalle_-_Devara_nrlxyr.mp3", 
  id: 0, 
  imageURL: "./img/chuttamalle.jpg",
  lyrics: [
    {
      "start": 9073,
      "end": 11527,
      "lyric": "Chuttamalle Chuttesthaandi"
    },
    {
      "start": 12027,
      "end": 14507,
      "lyric": "Thuntari Choopu"
    },
    {
      "start": 15007,
      "end": 18584,
      "lyric": "Oorike Undadhu Kaasepu….."
    },
    {
      "start": 19084,
      "end": 23580,
      "lyric": "Asthamaanam Neelokame Naa Maimarapu"
    },
    {
      "start": 24080,
      "end": 28551,
      "lyric": "Chethanaithe Nuvve Nannaapoooo…"
    },
    {
      "start": 29051,
      "end": 34564,
      "lyric": "Raa… Naa Niddara Kulaasaa… Nee Kalalakichheshaa"
    },
    {
      "start": 35064,
      "end": 38548,
      "lyric": "Neekosam Vayasu Vaakili Kaashaa…"
    },
    {
      "start": 39048,
      "end": 44533,
      "lyric": "Raa… Naa Aashalu Pogeshaa… Nee Gundeku Acheshaa"
    },
    {
      "start": 45033,
      "end": 48525,
      "lyric": "Nee Raakaku Rangam Siddham Cheshaa, Aa…"
    },
    {
      "start": 49025,
      "end": 51556,
      "lyric": "Enduku Puttindho Puttindhi"
    },
    {
      "start": 52056,
      "end": 56503,
      "lyric": "Yemo Nuvvante Muchhata Puttindhi… Aa"
    },
    {
      "start": 57003,
      "end": 60520,
      "lyric": "Pudathaane Nee Pichhi Pattindhi… Nee Peru Pettindhi…"
    },
    {
      "start": 61020,
      "end": 65576,
      "lyric": "Vayyaaram Oni Kattindhi… Gorinta Pettindhi… Aa"
    },
    {
      "start": 66076,
      "end": 68555,
      "lyric": "Saamiki Mokkulu Kattindhi…."
    },
    {
      "start": 69055,
      "end": 73527,
      "lyric": "Chuttamalle Chuttesthaandi… Chuttamalle Chuttesthaandi"
    },
    {
      "start": 74027,
      "end": 78519,
      "lyric": "Chuttamalle Chuttesthaandi… Aa Aa Aa, Araraare"
    },
    {
      "start": 79019,
      "end": 83500,
      "lyric": "Chuttamalle Chuttesthaandi… Thuntari Choopu"
    },
    {
      "start": 84000,
      "end": 108500,
      "lyric": "Oorike Undadhu Kaasepu….."
    },
    {
      "start": 109000,
      "end": 113511,
      "lyric": "Matthugaa Melesindhi… Nee Varaala Magasiri"
    },
    {
      "start": 114011,
      "end": 118517,
      "lyric": "Hatthukolevaa Mari Sarasana Cheree"
    },
    {
      "start": 119017,
      "end": 123512,
      "lyric": "Vaasthugaa Penchaanittaa… Vandhakotla Sogasiri"
    },
    {
      "start": 124012,
      "end": 127591,
      "lyric": "Aasthigaa Allesuko Kosaroi Kosareee….."
    },
    {
      "start": 128091,
      "end": 130534,
      "lyric": "Cheyyaaraa Muddhula Dhaadi…"
    },
    {
      "start": 131034,
      "end": 133516,
      "lyric": "Ishtame Nee Sandhadi.."
    },
    {
      "start": 134016,
      "end": 137554,
      "lyric": "Muttadinche Muttesukolevaa O Saari Chejaaree…."
    },
    {
      "start": 138054,
      "end": 143532,
      "lyric": "Raa… Ee Bangaru Necklesu Ee Ontiki Nachhatle.."
    },
    {
      "start": 144032,
      "end": 147526,
      "lyric": "Nee Kougilitho Nannu Singaarinchu…"
    },
    {
      "start": 148026,
      "end": 153506,
      "lyric": "Raa… Ye Vennela Jolaali… Nannu Niddhara Puchhatle"
    },
    {
      "start": 154006,
      "end": 157548,
      "lyric": "Naa Thippalu Konchem Aalochinchu.. Aa"
    },
    {
      "start": 158048,
      "end": 160521,
      "lyric": "Enduku Puttindho Puttindhi"
    },
    {
      "start": 161021,
      "end": 164561,
      "lyric": "Yemo Nuvvante Muchhata Puttindhi… Aa"
    },
    {
      "start": 165061,
      "end": 169503,
      "lyric": "Pudathaane Nee Pichhi Pattindhi… Nee Peru Pettindhi…"
    },
    {
      "start": 170003,
      "end": 174557,
      "lyric": "Vayyaaram Oni Kattindhi… Gorinta Pettindhi… Aa"
    },
    {
      "start": 175057,
      "end": 177506,
      "lyric": "Saamiki Mokkulu Kattindhi…."
    },
    {
      "start": 178006,
      "end": 181589,
      "lyric": "Chuttamalle Chuttesthaandi… Chuttamalle Chuttesthaandi"
    },
    {
      "start": 182089,
      "end": 186587,
      "lyric": "Chuttamalle Chuttesthaandi… Aa Aa Aa, Araraare"
    },
    {
      "start": 187087,
      "end": 191587,
      "lyric": "Chuttamalle Chuttesthaandi… Thuntari Choopu"
    },
    {
      "start": 192087,
      "end": null,
      "lyric": "Oorike Undadhu Kaasepu….."
    }
  ]
},
{ 
  title: "Fear Song - Devara", 
  artist: "Artist 2", 
  duration: "3:16", 
  songURL: "https://res.cloudinary.com/xd666/video/upload/v1723555615/musicmix/songs/Fear_Song_-_Devara_tj3ely.mp3", 
  id: 1, 
  imageURL: "./img/fear-song.jpg",
  lyrics: [
      {
        "time": 12070,
        "lyric": "All Hail"
      },
      {
        "time": 14590,
        "lyric": "All Hail"
      },
      {
        "time": 17380,
        "lyric": "All Hail"
      },
      {
        "time": 21590,
        "lyric": "Agganattukundhi Sandhram"
      },
      {
        "time": 24360,
        "lyric": "Bagunna Mande Aagraham"
      },
      {
        "time": 27150,
        "lyric": "Arachakaalu Bagnam"
      },
      {
        "time": 29380,
        "lyric": "Challare Chedu Saahasam"
      },
      {
        "time": 32170,
        "lyric": "Jagadapu Dhaarilo"
      },
      {
        "time": 34410,
        "lyric": "Mundhadugainaa Senaani"
      },
      {
        "time": 37490,
        "lyric": "Thalupulu Repaaga"
      },
      {
        "time": 40010,
        "lyric": "Alupunaa Aape Sainyaannee"
      },
      {
        "time": 42520,
        "lyric": "Dhooke Dhairyama Jagratthaa"
      },
      {
        "time": 45310,
        "lyric": "Raake Egabadi Raake"
      },
      {
        "time": 48100,
        "lyric": "Devara Mungitaa Nuvventhaa"
      },
      {
        "time": 50640,
        "lyric": "Dhakkove…"
      },
      {
        "time": 53430,
        "lyric": "Kaalam Thadabadene"
      },
      {
        "time": 55670,
        "lyric": "Ponge Keratam Laagene"
      },
      {
        "time": 58750,
        "lyric": "Pranam Parugulaiyee"
      },
      {
        "time": 61260,
        "lyric": "Kalugullo Dhoorene"
      },
      {
        "time": 64070,
        "lyric": "Dhooke Dhairyama Jagratthaa"
      },
      {
        "time": 66590,
        "lyric": "All Hail All Hail For Tiger"
      },
      {
        "time": 69390,
        "lyric": "Devara Mungitaa Nuvventhaa"
      },
      {
        "time": 71920,
        "lyric": "All Hail"
      },
      {
        "time": 73600,
        "lyric": "Devara"
      },
      {
        "time": 85340,
        "lyric": "All Hail All Hail All Hail"
      },
      {
        "time": 95430,
        "lyric": "Jagathiki Chetucheyyanelaa"
      },
      {
        "time": 97940,
        "lyric": "Devara Vetukandhadelaa"
      },
      {
        "time": 101300,
        "lyric": "Maname Kadhamai Dhigithe Belabela"
      },
      {
        "time": 105490,
        "lyric": "Kanulaku Kaanaraanidhilaa"
      },
      {
        "time": 108560,
        "lyric": "Kadaliki Kaapaiyyindheevelaa"
      },
      {
        "time": 111920,
        "lyric": "Vidhike Edhurai Velithe Vila Vilaa"
      },
      {
        "time": 116680,
        "lyric": "Alalaye Erupu Neellee"
      },
      {
        "time": 120590,
        "lyric": "Aa Kallanu Kadigeraa"
      },
      {
        "time": 123390,
        "lyric": "Pralayamai Athadhi Raake"
      },
      {
        "time": 125920,
        "lyric": "Thala Thala Thala Thatoraa"
      },
      {
        "time": 128160,
        "lyric": "Devara Mouname"
      },
      {
        "time": 130680,
        "lyric": "Savarana Leni Heccharikaa"
      },
      {
        "time": 133200,
        "lyric": "Ragilinaa Kopame"
      },
      {
        "time": 136000,
        "lyric": "Mruthyuvukainaa Mucchemataa"
      },
      {
        "time": 138800,
        "lyric": "Dhooke Dhairyama Jagratthaa"
      },
      {
        "time": 141320,
        "lyric": "Raake Egabadi Raake"
      },
      {
        "time": 143840,
        "lyric": "Devara Mungitaa Nuvventhaa"
      },
      {
        "time": 146640,
        "lyric": "Dhakkove…"
      },
      {
        "time": 149450,
        "lyric": "Praanam Thadabadene"
      },
      {
        "time": 151690,
        "lyric": "Ponge Keratam Laagene"
      },
      {
        "time": 154190,
        "lyric": "Pranam Parugulaiyee"
      },
      {
        "time": 157000,
        "lyric": "Parugullo Dhoorene"
      },
      {
        "time": 160080,
        "lyric": "Dhooke Dhairyama Jagratthaa"
      },
      {
        "time": 162590,
        "lyric": "All Hail All Hail For Tiger"
      },
      {
        "time": 165110,
        "lyric": "Devara Mungitaa Nuvventhaa"
      },
      {
        "time": 167910,
        "lyric": "All Hail"
      }
    ]
}

]


/*
document.addEventListener('DOMContentLoaded', async function () {

      var popularTracks = document.getElementById('popularTracks');
      var currentSongId = 0,
          currentIndex = 0,
          isPlaying = false,
          progressUpdateInterval,
          currentLyricIndex = -1;  // Track currently highlated lyric
          search = false;
      var songsLength = 0;
      var audio;
      var play = document.querySelector('.play');
      var skip = document.querySelector('.ion-ios-skipforward');
      var skipback = document.querySelector('.ion-ios-skipbackward');
      var shuffle = document.querySelector('.ion-shuffle');
      var songTimer = document.getElementById('timer');
      var songProgress = document.getElementById('song-progress');
      var volume = document.getElementById('song-volume');
      var songLength = document.getElementById('songLength');
      var currentSongImg = document.getElementById('currentTrackImg');
      var currentSongName = document.getElementById('currentTrackName');
      var currentSongArtist = document.getElementById('currentTrackArtist');
      var lyricsContainer = document.getElementById('lyrics-container');
      var lyricsContent = document.getElementById('lyrics-content');


      var songsList = await fetch('/public/api/getSongs', {
          method: 'GET',
          headers: {
              'Accept': 'application/json'
          } 
      }).then((res) => res.json())

     // console.log(songsList)

      

      if(songsList.success){

        await updateTracks(songsList.list);
        search = true
        currentSongId = songsList.list[0].id
        songsLength = songsList.list.length

      } else {
        search = false
      }


      async function updateTracks(list){

        console.log("playing...", list)
        popularTracks.innerHTML = ''
        list.forEach(song => {
        //  console.log(song)
          const songElement = document.createElement('div');
          songElement.classList.add('track');
          songElement.id = song.id

          songElement.innerHTML = `
                  <div class="track__art">
                      <img src="${song.imgURL}" alt="Cover art for '${song.name}'" />
                  </div>
                  <div class="track__number">
                      <a href="${song.songURL}" download="${song.name}" title="Download ${song.name}">
                          <ion-icon class="ico-style" name="checkmark-circle"></ion-icon>
                      </a>
                  </div>
                  <div class="track__added">
                      <i class="ion-heart added" style="color: red;" title="Added to Favorites"></i>
                  </div>
                  <div class="track__title" id="${song.id}">
                      ${song.name}  <span style="margin:0px 10px">-</span>  ${song.album}
                  </div>
                  <div class="track__explicit">
                      <span class="label">${song.album}</span>
                  </div>
                  <div class="track__plays">
                      <span class="label">${song.duration}</span>
                  </div>
              `;
              console.log(songElement)
              popularTracks.appendChild(songElement);
        })

        document.querySelectorAll('.track__title').forEach(element => {
          element.addEventListener('click', function() {
              findSong(this.id);
          });
        });
      

        

      }

}); 

*/

// Load last played song on page load
/*
window.onload = function() {
    let playedSongs = JSON.parse(localStorage.getItem('playedSongs')) || [];
    if(playedSongs.length > 0) {
        let lastPlayed = playedSongs[playedSongs.length - 1];
        let lastPlayedIndex = songs.findIndex(song => song.title === lastPlayed.title && song.artist === lastPlayed.artist);
        if(lastPlayedIndex !== -1) {
            currentSongIndex = lastPlayedIndex;
            playSong(currentSongIndex);
        }
    }
};
*/


/*  var songs = [
    { 
        title: "Chuttamalle - Devara", 
        artist: "Artist 1", 
        length: "3:41", 
        src: "https://res.cloudinary.com/xd666/video/upload/v1723555616/musicmix/songs/Chuttamalle_-_Devara_nrlxyr.mp3", 
        id: 0, 
        img: "./img/chuttamalle.jpg",
        lyrics: [
            { time: 0, line: "Chuttamalle line 1" },
            { time: 5000, line: "Chuttamalle line 2" },
            { time: 10000, line: "Chuttamalle line 3" },
        ]
    },
    { 
        title: "Fear Song - Devara", 
        artist: "Artist 2", 
        length: "3:16", 
        src: "https://res.cloudinary.com/xd666/video/upload/v1723555615/musicmix/songs/Fear_Song_-_Devara_tj3ely.mp3", 
        id: 1, 
        img: "./img/fear-song.jpg",
        lyrics: [
            {
              "time": 12070,
              "lyric": "All Hail"
            },
            {
              "time": 14590,
              "lyric": "All Hail"
            },
            {
              "time": 17380,
              "lyric": "All Hail"
            },
            {
              "time": 21590,
              "lyric": "Agganattukundhi Sandhram"
            },
            {
              "time": 24360,
              "lyric": "Bagunna Mande Aagraham"
            },
            {
              "time": 27150,
              "lyric": "Arachakaalu Bagnam"
            },
            {
              "time": 29380,
              "lyric": "Challare Chedu Saahasam"
            },
            {
              "time": 32170,
              "lyric": "Jagadapu Dhaarilo"
            },
            {
              "time": 34410,
              "lyric": "Mundhadugainaa Senaani"
            },
            {
              "time": 37490,
              "lyric": "Thalupulu Repaaga"
            },
            {
              "time": 40010,
              "lyric": "Alupunaa Aape Sainyaannee"
            },
            {
              "time": 42520,
              "lyric": "Dhooke Dhairyama Jagratthaa"
            },
            {
              "time": 45310,
              "lyric": "Raake Egabadi Raake"
            },
            {
              "time": 48100,
              "lyric": "Devara Mungitaa Nuvventhaa"
            },
            {
              "time": 50640,
              "lyric": "Dhakkove…"
            },
            {
              "time": 53430,
              "lyric": "Kaalam Thadabadene"
            },
            {
              "time": 55670,
              "lyric": "Ponge Keratam Laagene"
            },
            {
              "time": 58750,
              "lyric": "Pranam Parugulaiyee"
            },
            {
              "time": 61260,
              "lyric": "Kalugullo Dhoorene"
            },
            {
              "time": 64070,
              "lyric": "Dhooke Dhairyama Jagratthaa"
            },
            {
              "time": 66590,
              "lyric": "All Hail All Hail For Tiger"
            },
            {
              "time": 69390,
              "lyric": "Devara Mungitaa Nuvventhaa"
            },
            {
              "time": 71920,
              "lyric": "All Hail"
            },
            {
              "time": 73600,
              "lyric": "Devara"
            },
            {
              "time": 85340,
              "lyric": "All Hail All Hail All Hail"
            },
            {
              "time": 95430,
              "lyric": "Jagathiki Chetucheyyanelaa"
            },
            {
              "time": 97940,
              "lyric": "Devara Vetukandhadelaa"
            },
            {
              "time": 101300,
              "lyric": "Maname Kadhamai Dhigithe Belabela"
            },
            {
              "time": 105490,
              "lyric": "Kanulaku Kaanaraanidhilaa"
            },
            {
              "time": 108560,
              "lyric": "Kadaliki Kaapaiyyindheevelaa"
            },
            {
              "time": 111920,
              "lyric": "Vidhike Edhurai Velithe Vila Vilaa"
            },
            {
              "time": 116680,
              "lyric": "Alalaye Erupu Neellee"
            },
            {
              "time": 120590,
              "lyric": "Aa Kallanu Kadigeraa"
            },
            {
              "time": 123390,
              "lyric": "Pralayamai Athadhi Raake"
            },
            {
              "time": 125920,
              "lyric": "Thala Thala Thala Thatoraa"
            },
            {
              "time": 128160,
              "lyric": "Devara Mouname"
            },
            {
              "time": 130680,
              "lyric": "Savarana Leni Heccharikaa"
            },
            {
              "time": 133200,
              "lyric": "Ragilinaa Kopame"
            },
            {
              "time": 136000,
              "lyric": "Mruthyuvukainaa Mucchemataa"
            },
            {
              "time": 138800,
              "lyric": "Dhooke Dhairyama Jagratthaa"
            },
            {
              "time": 141320,
              "lyric": "Raake Egabadi Raake"
            },
            {
              "time": 143840,
              "lyric": "Devara Mungitaa Nuvventhaa"
            },
            {
              "time": 146640,
              "lyric": "Dhakkove…"
            },
            {
              "time": 149450,
              "lyric": "Praanam Thadabadene"
            },
            {
              "time": 151690,
              "lyric": "Ponge Keratam Laagene"
            },
            {
              "time": 154190,
              "lyric": "Pranam Parugulaiyee"
            },
            {
              "time": 157000,
              "lyric": "Parugullo Dhoorene"
            },
            {
              "time": 160080,
              "lyric": "Dhooke Dhairyama Jagratthaa"
            },
            {
              "time": 162590,
              "lyric": "All Hail All Hail For Tiger"
            },
            {
              "time": 165110,
              "lyric": "Devara Mungitaa Nuvventhaa"
            },
            {
              "time": 167910,
              "lyric": "All Hail"
            }
          ]
    }
]; 



*/